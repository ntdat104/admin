(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{132:function(t,e,n){},140:function(t,e){},142:function(t,e){},153:function(t,e){},155:function(t,e){},182:function(t,e){},184:function(t,e){},185:function(t,e){},191:function(t,e){},193:function(t,e){},211:function(t,e){},213:function(t,e){},225:function(t,e){},228:function(t,e){},254:function(t,e,n){},255:function(t,e,n){},256:function(t,e,n){},257:function(t,e,n){},258:function(t,e,n){},259:function(t,e,n){},260:function(t,e,n){},261:function(t,e,n){},262:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(5),i=n(125),c=n.n(i),r=(n(132),n(7)),u=n.n(r),d=n(18),h=n(10),o=n(11),l=n(13),f=n(12),j=n(69),b=n.n(j);n(134);b.a.initializeApp({apiKey:"AIzaSyDu7RYF7A3eaC2uedmAEUFyz1u14d1def4",authDomain:"class-104.firebaseapp.com",databaseURL:"https://class-104.firebaseio.com",projectId:"class-104",storageBucket:"class-104.appspot.com",messagingSenderId:"642296584585",appId:"1:642296584585:web:a63c7c9e96c03e203e6958"});var p=b.a.database();function m(){return new Promise((function(t,e){p.ref("course").on("value",(function(e){var n=[];e.forEach((function(t){n.push(t.val())})),t(n)}))}))}function O(){return new Promise((function(t,e){p.ref("student").on("value",(function(e){var n=[];e.forEach((function(t){n.push(t.val())})),t(n)}))}))}var v=n(126),x=n.n(v);function C(t){for(var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","+","/"],n="",a=0;a<t;a++){n+=e[Math.floor(Math.random()*e.length)]}return n}function S(t,e){return x.a.HmacSHA256(t+e,"lhrYDV62").toString()}var k=n(6),g=n(4),y=(n(254),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={addStatus:!1,addClass:{},editStatus:!1},a}return Object(o.a)(n,[{key:"getClass",value:function(){var t=Object(d.a)(u.a.mark((function t(){var e,n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){p.ref("class").on("value",(function(e){var n=[];e.forEach((function(t){n.push(t.val())})),t(n)}))}));case 2:return e=t.sent,t.next=5,m();case 5:n=t.sent,a=[],e.forEach((function(t){n.forEach((function(e){if(t.courseid===e.courseid){var n={classid:t.classid,courseid:t.courseid,teacherid:t.teacherid,coursename:e.name};a.push(n)}}))})),a=a.sort((function(t,e){return t.classid>e.classid?1:t.classid<e.classid?-1:0})),this.setState({classes:a});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getClass()}},{key:"handleAddChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name;"classid"!==a&&"courseid"!==a||(n=n.toUpperCase()),this.setState({addClass:Object(g.a)(Object(g.a)({},this.state.addClass),{},Object(k.a)({},a,n))})}},{key:"handleAddSubmit",value:function(t){var e=this;if(t.preventDefault(),this.state.classes.filter((function(t){return t.classid===e.state.addClass.classid}))[0])alert("M\xe3 l\u1edbp \u0111\xe3 t\u1ed3n t\u1ea1i.");else{var n={classid:this.state.addClass.classid,courseid:this.state.addClass.courseid,teacherid:this.state.addClass.teacherid};p.ref("class").push(n),this.setState({addStatus:!1}),this.getClass()}}},{key:"checkAddStatus",value:function(){var t=this;if(this.state.addStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleAddSubmit(e)},children:[Object(a.jsx)("input",{type:"text",name:"classid",placeholder:"M\xe3 l\u1edbp",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"courseid",placeholder:"M\xe3 kh\xf3a h\u1ecdc",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"teacherid",placeholder:"M\xe3 gi\xe1o vi\xean",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"Th\xeam"})]})}},{key:"handleEditChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name;"classid"!==a&&"courseid"!==a||(n=n.toUpperCase()),this.setState({editClass:Object(g.a)(Object(g.a)({},this.state.editClass),{},Object(k.a)({},a,n))})}},{key:"handleEditSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("class").on("value",(function(t){t.forEach((function(t){t.val().classid===n.state.editClass.classid&&(e=t.key)}))}));var a={classid:this.state.editClass.classid,courseid:this.state.editClass.courseid,teacherid:this.state.editClass.teacherid.toLowerCase()};p.ref("class").child(e).set(a),this.setState({editStatus:!1}),this.getClass()}},{key:"checkEditStatus",value:function(){var t=this;if(this.state.editStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleEditSubmit(e)},children:[Object(a.jsx)("input",{type:"text",defaultValue:this.state.editClass.classid,name:"classid",placeholder:"M\xe3 l\u1edbp",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",disabled:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editClass.courseid,name:"courseid",placeholder:"M\xe3 kh\xf3a h\u1ecdc",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editClass.teacherid,name:"teacherid",placeholder:"M\xe3 gi\xe1o vi\xean",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"L\u01b0u"})]})}},{key:"editClass",value:function(t){this.state.editStatus?alert("B\u1ea1n ph\u1ea3i l\u01b0u tr\u01b0\u1edbc khi s\u1eeda."):this.setState({editClass:t,editStatus:!0})}},{key:"removeClass",value:function(t){var e;p.ref("class").on("value",(function(n){n.forEach((function(n){n.val().classid===t.classid&&(e=n.key)}))})),p.ref("class").child(e).remove(),this.getClass()}},{key:"mapClass",value:function(){var t=this;return this.state.classes.map((function(e,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:e.classid}),Object(a.jsx)("td",{children:e.courseid}),Object(a.jsx)("td",{children:e.coursename}),Object(a.jsx)("td",{children:e.teacherid}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{onClick:function(){return t.props.changeStatus("CLASS_INFO",e.classid)},children:"Xem"}),Object(a.jsx)("button",{onClick:function(){return t.editClass(e)},children:"S\u1eeda"}),Object(a.jsx)("button",{onClick:function(){return t.removeClass(e)},children:"X\xf3a"})]})]},n)}))}},{key:"renderClassList",value:function(){var t=this;if(this.state.classes)return Object(a.jsxs)("div",{className:"class_list",children:[Object(a.jsx)("h1",{children:"Danh s\xe1ch l\u1edbp"}),this.checkAddStatus(),this.checkEditStatus(),Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"STT"}),Object(a.jsx)("th",{children:"M\xe3 l\u1edbp"}),Object(a.jsx)("th",{children:"M\xe3 kh\xf3a h\u1ecdc"}),Object(a.jsx)("th",{children:"T\xean kh\xf3a h\u1ecdc"}),Object(a.jsx)("th",{children:"M\xe3 gi\xe1o vi\xean"}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{onClick:function(){return t.setState({addStatus:!t.state.addStatus})},children:"Th\xeam"})})]}),this.mapClass()]})})]})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",children:this.renderClassList()})}}]),n}(s.Component)),E=(n(255),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={addStatus:!1,addTeacher:{},editStatus:!1},a}return Object(o.a)(n,[{key:"getData",value:function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){p.ref("teacher").on("value",(function(e){var n=[];e.forEach((function(t){n.push(t.val())})),t(n)}))}));case 2:e=(e=t.sent).sort((function(t,e){return t.teacherid>e.teacherid?1:t.teacherid<e.teacherid?-1:0})),this.setState({teachers:e});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"handleAddChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name,s=C(10);if("teacherid"!==a&&"username"!==a||(n=n.toLowerCase()),"password"===a){var i=S(n,s);this.setState({addTeacher:Object(g.a)(Object(g.a)({},this.state.addTeacher),{},{salt:s,hash:i})})}else this.setState({addTeacher:Object(g.a)(Object(g.a)({},this.state.addTeacher),{},Object(k.a)({},a,n))})}},{key:"handleAddSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("teacher").on("value",(function(t){t.forEach((function(t){t.val().teacherid===n.state.addTeacher.teacherid&&(e=t.val())}))})),e?alert("ID \u0111\xe3 t\u1ed3n t\u1ea1i."):(p.ref("teacher").push(this.state.addTeacher),this.setState({addStatus:!1}),this.getData())}},{key:"checkAddStatus",value:function(){var t=this;if(this.state.addStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleAddSubmit(e)},children:[Object(a.jsx)("input",{type:"text",name:"teacherid",placeholder:"ID",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"username",placeholder:"T\xe0i kho\u1ea3n",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"name",placeholder:"H\u1ecd v\xe0 t\xean",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsxs)("select",{name:"gender",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0,children:[Object(a.jsx)("option",{value:"",children:"Ch\u1ecdn gi\u1edbi t\xednh"}),Object(a.jsx)("option",{value:0,children:"Nam"}),Object(a.jsx)("option",{value:1,children:"N\u1eef"})]}),Object(a.jsx)("input",{type:"date",name:"dateofbirth",placeholder:"Ng\xe0y sinh",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"phone",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"Th\xeam"})]})}},{key:"handleEditChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name,s=C(10);if("teacherid"!==a&&"username"!==a||(n=n.toLowerCase()),"password"===a){var i=S(n,s);this.setState({editTeacher:Object(g.a)(Object(g.a)({},this.state.editTeacher),{},{salt:s,hash:i})})}else this.setState({editTeacher:Object(g.a)(Object(g.a)({},this.state.editTeacher),{},Object(k.a)({},a,n))})}},{key:"handleEditSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("teacher").on("value",(function(t){t.forEach((function(t){t.val().teacherid===n.state.editTeacher.teacherid&&(e=t.key)}))})),p.ref("teacher").child(e).set(this.state.editTeacher),this.setState({editStatus:!1}),this.getData()}},{key:"checkEditStatus",value:function(){var t=this;if(this.state.editStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleEditSubmit(e)},children:[Object(a.jsx)("input",{type:"text",defaultValue:this.state.editTeacher.teacherid,name:"teacherid",placeholder:"ID",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",disabled:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editTeacher.username,name:"username",placeholder:"T\xe0i kho\u1ea3n",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",disabled:!0}),Object(a.jsx)("input",{type:"text",name:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editTeacher.name,name:"name",placeholder:"H\u1ecd v\xe0 t\xean",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsxs)("select",{name:"gender",defaultValue:this.state.editTeacher.gender,onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0,children:[Object(a.jsx)("option",{value:0,children:"Nam"}),Object(a.jsx)("option",{value:1,children:"N\u1eef"})]}),Object(a.jsx)("input",{type:"date",defaultValue:this.state.editTeacher.dateofbirth,name:"dateofbirth",placeholder:"Ng\xe0y sinh",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editTeacher.phone,name:"phone",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"L\u01b0u"})]})}},{key:"editTeacher",value:function(t){this.state.editStatus?alert("B\u1ea1n ph\u1ea3i l\u01b0u tr\u01b0\u1edbc khi s\u1eeda."):this.setState({editTeacher:t,editStatus:!0})}},{key:"removeTeacher",value:function(t){var e;p.ref("teacher").on("value",(function(n){n.forEach((function(n){n.val().teacherid===t.teacherid&&(e=n.key)}))})),p.ref("teacher").child(e).remove(),this.getData()}},{key:"mapClass",value:function(){var t=this;return this.state.teachers.map((function(e,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:e.teacherid}),Object(a.jsx)("td",{children:e.username}),Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:parseInt(e.gender)?"N\u1eef":"Nam"}),Object(a.jsx)("td",{children:e.dateofbirth}),Object(a.jsx)("td",{children:e.phone}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{onClick:function(){return t.editTeacher(e)},children:"S\u1eeda"}),Object(a.jsx)("button",{onClick:function(){return t.removeTeacher(e)},children:"X\xf3a"})]})]},n)}))}},{key:"renderTeacher",value:function(){var t=this;if(this.state.teachers)return Object(a.jsxs)("div",{className:"teacher",children:[Object(a.jsx)("h1",{children:"Danh s\xe1ch gi\xe1o vi\xean"}),this.checkAddStatus(),this.checkEditStatus(),Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"STT"}),Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"T\xe0i kho\u1ea3n"}),Object(a.jsx)("th",{children:"H\u1ecd v\xe0 t\xean"}),Object(a.jsx)("th",{children:"Gi\u1edbi t\xednh"}),Object(a.jsx)("th",{children:"Ng\xe0y sinh"}),Object(a.jsx)("th",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{onClick:function(){return t.setState({addStatus:!t.state.addStatus})},children:"Th\xeam"})})]}),this.mapClass()]})})]})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",children:this.renderTeacher()})}}]),n}(s.Component)),T=(n(256),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={addStatus:!1,addStudent:{},editStatus:!1},a}return Object(o.a)(n,[{key:"getData",value:function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:e=(e=t.sent).sort((function(t,e){return t.studentid>e.studentid?1:t.studentid<e.studentid?-1:0})),this.setState({students:e});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"handleAddChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name,s=C(10);if("studentid"!==a&&"username"!==a||(n=n.toLowerCase()),"password"===a){var i=S(n,s);this.setState({addStudent:Object(g.a)(Object(g.a)({},this.state.addStudent),{},{salt:s,hash:i})})}else this.setState({addStudent:Object(g.a)(Object(g.a)({},this.state.addStudent),{},Object(k.a)({},a,n))})}},{key:"handleAddSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("student").on("value",(function(t){t.forEach((function(t){t.val().studentid===n.state.addStudent.studentid&&(e=t.val())}))})),e?alert("ID \u0111\xe3 t\u1ed3n t\u1ea1i."):(p.ref("student").push(this.state.addStudent),this.setState({addStatus:!1}),this.getData())}},{key:"checkAddStatus",value:function(){var t=this;if(this.state.addStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleAddSubmit(e)},children:[Object(a.jsx)("input",{type:"text",name:"studentid",placeholder:"ID",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"username",placeholder:"T\xe0i kho\u1ea3n",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"name",placeholder:"H\u1ecd v\xe0 t\xean",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsxs)("select",{name:"gender",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0,children:[Object(a.jsx)("option",{value:"",children:"Ch\u1ecdn gi\u1edbi t\xednh"}),Object(a.jsx)("option",{value:0,children:"Nam"}),Object(a.jsx)("option",{value:1,children:"N\u1eef"})]}),Object(a.jsx)("input",{type:"date",name:"dateofbirth",placeholder:"Ng\xe0y sinh",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"phone",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"Th\xeam"})]})}},{key:"handleEditChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name,s=C(10);if("studentid"!==a&&"username"!==a||(n=n.toLowerCase()),"password"===a){var i=S(n,s);this.setState({editStudent:Object(g.a)(Object(g.a)({},this.state.editStudent),{},{salt:s,hash:i})})}else this.setState({editStudent:Object(g.a)(Object(g.a)({},this.state.editStudent),{},Object(k.a)({},a,n))})}},{key:"handleEditSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("student").on("value",(function(t){t.forEach((function(t){t.val().studentid===n.state.editStudent.studentid&&(e=t.key)}))})),p.ref("student").child(e).set(this.state.editStudent),this.setState({editStatus:!1}),this.getData()}},{key:"checkEditStatus",value:function(){var t=this;if(this.state.editStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleEditSubmit(e)},children:[Object(a.jsx)("input",{type:"text",defaultValue:this.state.editStudent.studentid,name:"studentid",placeholder:"ID",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",disabled:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editStudent.username,name:"username",placeholder:"T\xe0i kho\u1ea3n",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",disabled:!0}),Object(a.jsx)("input",{type:"text",name:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editStudent.name,name:"name",placeholder:"H\u1ecd v\xe0 t\xean",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsxs)("select",{name:"gender",defaultValue:this.state.editStudent.gender,onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0,children:[Object(a.jsx)("option",{value:0,children:"Nam"}),Object(a.jsx)("option",{value:1,children:"N\u1eef"})]}),Object(a.jsx)("input",{type:"date",defaultValue:this.state.editStudent.dateofbirth,name:"dateofbirth",placeholder:"Ng\xe0y sinh",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editStudent.phone,name:"phone",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"L\u01b0u"})]})}},{key:"editStudent",value:function(t){this.state.editStatus?alert("B\u1ea1n ph\u1ea3i l\u01b0u tr\u01b0\u1edbc khi s\u1eeda."):this.setState({editStudent:t,editStatus:!0})}},{key:"removeStudent",value:function(t){var e;p.ref("student").on("value",(function(n){n.forEach((function(n){n.val().studentid===t.studentid&&(e=n.key)}))})),p.ref("student").child(e).remove(),this.getData()}},{key:"mapClass",value:function(){var t=this;return this.state.students.map((function(e,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:e.studentid}),Object(a.jsx)("td",{children:e.username}),Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:parseInt(e.gender)?"N\u1eef":"Nam"}),Object(a.jsx)("td",{children:e.dateofbirth}),Object(a.jsx)("td",{children:e.phone}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{onClick:function(){return t.editStudent(e)},children:"S\u1eeda"}),Object(a.jsx)("button",{onClick:function(){return t.removeStudent(e)},children:"X\xf3a"})]})]},n)}))}},{key:"renderStudent",value:function(){var t=this;if(this.state.students)return Object(a.jsxs)("div",{className:"student",children:[Object(a.jsx)("h1",{children:"Danh s\xe1ch h\u1ecdc sinh"}),this.checkAddStatus(),this.checkEditStatus(),Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"STT"}),Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"T\xe0i kho\u1ea3n"}),Object(a.jsx)("th",{children:"H\u1ecd v\xe0 t\xean"}),Object(a.jsx)("th",{children:"Gi\u1edbi t\xednh"}),Object(a.jsx)("th",{children:"Ng\xe0y sinh"}),Object(a.jsx)("th",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{onClick:function(){return t.setState({addStatus:!t.state.addStatus})},children:"Th\xeam"})})]}),this.mapClass()]})})]})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",children:this.renderStudent()})}}]),n}(s.Component)),A=(n(257),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={addStatus:!1,addStudent:{},editStatus:!1},a}return Object(o.a)(n,[{key:"getData",value:function(){var t=Object(d.a)(u.a.mark((function t(){var e,n,a,s=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){p.ref("class_member").on("value",(function(e){var n=[];e.forEach((function(t){n.push(t.val())})),t(n)}))}));case 2:return e=t.sent,t.next=5,O();case 5:n=t.sent,a=[],e.filter((function(t){return t.classid===s.props.classid})).forEach((function(t){n.forEach((function(e){if(t.classid===s.props.classid&&t.studentid===e.studentid){var n={studentid:t.studentid,count:t.count,score:t.score,studentname:e.name};a.push(n)}}))})),a=a.sort((function(t,e){return t.studentid>e.studentid?1:t.studentid<e.studentid?-1:0})),this.setState({students:a});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"handleAddChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name;"studentid"===a&&(n=n.toLowerCase()),this.setState({addStudent:Object(g.a)(Object(g.a)({},this.state.addStudent),{},Object(k.a)({},a,n))})}},{key:"handleAddSubmit",value:function(t){var e=this;if(t.preventDefault(),this.state.students.filter((function(t){return t.studentid===e.state.addStudent.studentid}))[0])alert("M\xe3 l\u1edbp \u0111\xe3 t\u1ed3n t\u1ea1i.");else{var n={classid:this.props.classid,studentid:this.state.addStudent.studentid,count:this.state.addStudent.count,score:this.state.addStudent.score};p.ref("class_member").push(n),this.setState({addStatus:!1}),this.getData()}}},{key:"checkAddStatus",value:function(){var t=this;if(this.state.addStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleAddSubmit(e)},children:[Object(a.jsx)("input",{type:"text",name:"studentid",placeholder:"M\xe3 h\u1ecdc sinh",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"count",placeholder:"S\u1ed1 bu\u1ed5i h\u1ecdc",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"score",placeholder:"\u0110i\u1ec3m",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"Th\xeam"})]})}},{key:"handleEditChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name;"studentid"===a&&(n=n.toLowerCase()),this.setState({editStudent:Object(g.a)(Object(g.a)({},this.state.editStudent),{},Object(k.a)({},a,n))})}},{key:"handleEditSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("class_member").on("value",(function(t){t.forEach((function(t){t.val().classid===n.props.classid&&t.val().studentid===n.state.editStudent.studentid&&(e=t.key)}))}));var a={classid:this.props.classid,studentid:this.state.editStudent.studentid,count:this.state.editStudent.count,score:this.state.editStudent.score};p.ref("class_member").child(e).set(a),this.setState({editStatus:!1}),this.getData()}},{key:"checkEditStatus",value:function(){var t=this;if(this.state.editStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleEditSubmit(e)},children:[Object(a.jsx)("input",{type:"text",defaultValue:this.state.editStudent.studentid,name:"studentid",placeholder:"M\xe3 h\u1ecdc sinh",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",disabled:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editStudent.count,name:"count",placeholder:"S\u1ed1 bu\u1ed5i h\u1ecdc",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editStudent.score,name:"score",placeholder:"\u0110i\u1ec3m",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"L\u01b0u"})]})}},{key:"editStudent",value:function(t){this.state.editStatus?alert("B\u1ea1n ph\u1ea3i l\u01b0u tr\u01b0\u1edbc khi s\u1eeda."):this.setState({editStudent:t,editStatus:!0})}},{key:"removeStudent",value:function(t){var e;p.ref("class_member").on("value",(function(n){n.forEach((function(n){n.val().studentid===t.studentid&&(e=n.key)}))})),p.ref("class_member").child(e).remove(),this.getData()}},{key:"mapStudent",value:function(){var t=this;return this.state.students.map((function(e,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:e.studentid}),Object(a.jsx)("td",{children:e.studentname}),Object(a.jsx)("td",{children:e.count}),Object(a.jsx)("td",{children:e.score}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{onClick:function(){return t.editStudent(e)},children:"S\u1eeda"}),Object(a.jsx)("button",{onClick:function(){return t.removeStudent(e)},children:"X\xf3a"})]})]},n)}))}},{key:"renderClassInfo",value:function(){var t=this;if(this.state.students)return Object(a.jsxs)("div",{className:"class_info",children:[Object(a.jsxs)("h1",{children:["H\u1ecdc sinh l\u1edbp ",this.props.classid]}),this.checkAddStatus(),this.checkEditStatus(),Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"STT"}),Object(a.jsx)("th",{children:"M\xe3 h\u1ecdc sinh"}),Object(a.jsx)("th",{children:"T\xean h\u1ecdc sinh"}),Object(a.jsx)("th",{children:"S\u1ed1 bu\u1ed5i h\u1ecdc"}),Object(a.jsx)("th",{children:"\u0110i\u1ec3m"}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{onClick:function(){return t.setState({addStatus:!t.state.addStatus})},children:"Th\xeam"})})]}),this.mapStudent()]})})]})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",children:this.renderClassInfo()})}}]),n}(s.Component)),D=(n(258),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={addStatus:!1,addCourse:{},editStatus:!1},a}return Object(o.a)(n,[{key:"getData",value:function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:e=(e=t.sent).sort((function(t,e){return t.courseid>e.courseid?1:t.courseid<e.courseid?-1:0})),this.setState({courses:e});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"handleAddChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name;"courseid"===a&&(n=n.toUpperCase()),this.setState({addCourse:Object(g.a)(Object(g.a)({},this.state.addCourse),{},Object(k.a)({},a,n))})}},{key:"handleAddSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("course").on("value",(function(t){t.forEach((function(t){t.val().courseid===n.state.addCourse.courseid&&(e=t.val())}))})),e?alert("M\xe3 kh\xf3a h\u1ecdc \u0111\xe3 t\u1ed3n t\u1ea1i."):(p.ref("course").push(this.state.addCourse),this.setState({addStatus:!1}),this.getData())}},{key:"checkAddStatus",value:function(){var t=this;if(this.state.addStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleAddSubmit(e)},children:[Object(a.jsx)("input",{type:"text",name:"courseid",placeholder:"M\xe3 kh\xf3a h\u1ecdc",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("input",{type:"text",name:"name",placeholder:"T\xean kh\xf3a h\u1ecdc",onChange:function(e){return t.handleAddChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"Th\xeam"})]})}},{key:"handleEditChange",value:function(t){var e=t.target,n="checkbox"===e.type?e.checked:e.value,a=e.name;"courseid"===a&&(n=n.toUpperCase()),this.setState({editCourse:Object(g.a)(Object(g.a)({},this.state.editCourse),{},Object(k.a)({},a,n))})}},{key:"handleEditSubmit",value:function(t){var e,n=this;t.preventDefault(),p.ref("course").on("value",(function(t){t.forEach((function(t){t.val().courseid===n.state.editCourse.courseid&&(e=t.key)}))})),p.ref("course").child(e).set(this.state.editCourse),this.setState({editStatus:!1}),this.getData()}},{key:"checkEditStatus",value:function(){var t=this;if(this.state.editStatus)return Object(a.jsxs)("form",{onSubmit:function(e){return t.handleEditSubmit(e)},children:[Object(a.jsx)("input",{type:"text",defaultValue:this.state.editCourse.courseid,name:"courseid",placeholder:"M\xe3 kh\xf3a h\u1ecdc",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",disabled:!0}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.editCourse.name,name:"name",placeholder:"T\xean kh\xf3a h\u1ecdc",onChange:function(e){return t.handleEditChange(e)},autoComplete:"off",required:!0}),Object(a.jsx)("button",{type:"submit",children:"L\u01b0u"})]})}},{key:"editCourse",value:function(t){this.state.editStatus?alert("B\u1ea1n ph\u1ea3i l\u01b0u tr\u01b0\u1edbc khi s\u1eeda."):this.setState({editCourse:t,editStatus:!0})}},{key:"removeCourse",value:function(t){var e;p.ref("course").on("value",(function(n){n.forEach((function(n){n.val().courseid===t.courseid&&(e=n.key)}))})),p.ref("course").child(e).remove(),this.getData()}},{key:"mapCourse",value:function(){var t=this;return this.state.courses.map((function(e,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:e.courseid}),Object(a.jsx)("td",{children:e.name}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{onClick:function(){return t.editCourse(e)},children:"S\u1eeda"}),Object(a.jsx)("button",{onClick:function(){return t.removeCourse(e)},children:"X\xf3a"})]})]},n)}))}},{key:"renderCourse",value:function(){var t=this;if(this.state.courses)return Object(a.jsxs)("div",{className:"course",children:[Object(a.jsx)("h1",{children:"Danh s\xe1ch kh\xf3a h\u1ecdc"}),this.checkAddStatus(),this.checkEditStatus(),Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"STT"}),Object(a.jsx)("th",{children:"M\xe3 kh\xf3a h\u1ecdc"}),Object(a.jsx)("th",{children:"T\xean kh\xf3a h\u1ecdc"}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{onClick:function(){return t.setState({addStatus:!t.state.addStatus})},children:"Th\xeam"})})]}),this.mapCourse()]})})]})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",children:this.renderCourse()})}}]),n}(s.Component)),w=(n(259),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={status:"CLASS_LIST"},a}return Object(o.a)(n,[{key:"option",value:function(){var t=this;switch(this.state.status){case"CLASS_LIST":return Object(a.jsx)(y,{changeStatus:function(e,n){return t.changeStatus(e,n)}});case"TEACHER":return Object(a.jsx)(E,{});case"STUDENT":return Object(a.jsx)(T,{});case"COURSE":return Object(a.jsx)(D,{});case"CLASS_INFO":return Object(a.jsx)(A,{classid:this.state.classid})}}},{key:"changeStatus",value:function(t,e){this.setState({status:t,classid:e})}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{className:"admin",children:[this.option(),Object(a.jsxs)("div",{className:"btn",children:[Object(a.jsx)("button",{onClick:function(){return t.changeStatus("CLASS_LIST")},children:"L\u1edbp"}),Object(a.jsx)("button",{onClick:function(){return t.changeStatus("TEACHER")},children:"Gi\xe1o vi\xean"}),Object(a.jsx)("button",{onClick:function(){return t.changeStatus("STUDENT")},children:"H\u1ecdc sinh"}),Object(a.jsx)("button",{onClick:function(){return t.changeStatus("COURSE")},children:"Kh\xf3a h\u1ecdc"})]})]})}}]),n}(s.Component)),q=(n(260),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"handleChange",value:function(t){this.setState(Object(k.a)({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault();var e={username:this.state.username.toLowerCase(),password:this.state.password};this.props.checkAccount(e)}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{className:"login",children:Object(a.jsxs)("form",{onSubmit:function(e){return t.handleSubmit(e)},children:[Object(a.jsx)("h1",{children:"QU\u1ea2N L\xdd"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"login_username",children:"T\xc0I KHO\u1ea2N"}),Object(a.jsx)("input",{name:"username",id:"login_username",onChange:function(e){return t.handleChange(e)},type:"text",autoComplete:"Off",required:!0})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"login_password",children:"M\u1eacT KH\u1ea8U"}),Object(a.jsx)("input",{name:"password",id:"login_password",onChange:function(e){return t.handleChange(e)},type:"password",autoComplete:"Off",required:!0})]}),Object(a.jsx)("p",{onClick:function(){return alert("Ch\u01b0a ph\xe1t tri\u1ec3n.")},children:"Qu\xean m\u1eadt kh\u1ea9u?"}),Object(a.jsx)("button",{type:"submit",children:"\u0110\u0102NG NH\u1eacP"})]})})}}]),n}(s.Component)),N=(n(261),function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"checkAccount",value:function(){var t=Object(d.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){p.ref("admin").on("value",(function(e){t(e.val())}))}));case 2:(n=t.sent).username===e.username&&S(e.password,n.salt)===n.hash?(alert("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng."),this.setState({admin:Object(a.jsx)(w,{})})):alert("Sai m\u1eadt kh\u1ea9u ho\u1eb7c t\xe0i kho\u1ea3n kh\xf4ng t\u1ed3n t\u1ea1i.");case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"checkLogin",value:function(){var t=this;return this.state.admin?this.state.admin:Object(a.jsx)(q,{checkAccount:function(e){return t.checkAccount(e)}})}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.checkLogin()})}}]),n}(s.Component));c.a.render(Object(a.jsx)(N,{}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.6eaa3192.chunk.js.map